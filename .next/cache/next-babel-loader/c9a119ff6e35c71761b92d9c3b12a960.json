{"ast":null,"code":"var _jsxFileName = \"/Users/jatinderbimra/work/xlbb/rsvp-next/components/RSVPForm/proxy-holder/sub-fields.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useRef } from 'react';\nimport { useForm, ErrorMessage } from 'react-hook-form';\nimport { useOvermind } from '../../../overmind';\nimport { phonePattern1, emailPattern, KTP_SID_SEARCH_HIT_MIN_CHARS } from '../../../util/constants';\nimport { reCaptchaInitialize, verifyCaptcha } from '../../../util/index';\nexport default function RSVPProxyHolderSubFields(props) {\n  var _useOvermind = useOvermind(),\n      state = _useOvermind.state,\n      actions = _useOvermind.actions;\n\n  var _useForm = useForm({\n    mode: 'onChange',\n    validateCriteriaMode: \"all\"\n  }),\n      register = _useForm.register,\n      errors = _useForm.errors,\n      handleSubmit = _useForm.handleSubmit,\n      watch = _useForm.watch,\n      formState = _useForm.formState;\n\n  console.log('data from props', props.data);\n  var _props$data = props.data,\n      title = _props$data.title,\n      subFields = _props$data.subFields;\n  console.log('subFields ', subFields);\n\n  var _ref = subFields || {},\n      numberKTUR = _ref.numberKTUR,\n      numberSID = _ref.numberSID,\n      name = _ref.name,\n      passport = _ref.passport,\n      address = _ref.address,\n      numberOfShares = _ref.numberOfShares,\n      phoneNumber = _ref.phoneNumber,\n      email = _ref.email,\n      uploadID = _ref.uploadID,\n      uploadArticleOfAssociation = _ref.uploadArticleOfAssociation,\n      uploadProxy = _ref.uploadProxy,\n      captcha = _ref.captcha,\n      userAcceptance = _ref.userAcceptance,\n      submitButton = _ref.submitButton,\n      infoText = _ref.infoText,\n      successMsgTitle = _ref.successMsgTitle,\n      successMsg = _ref.successMsg,\n      failedMsgTitle = _ref.failedMsgTitle,\n      failedMsg = _ref.failedMsg,\n      redirectURL = _ref.redirectURL;\n\n  var watchNoKtur = watch(\"numberKTUR\");\n  var watchNoSID = watch(\"numberSID\");\n  var watchHidCaptcha = watch(\"hidGRecaptchaElement\");\n\n  var onSubmit = function onSubmit(data, e) {\n    console.log(\"Form submitted \", data, e);\n  }; // Similar to componentDidMount and componentDidUpdate:\n\n\n  useEffect(function () {// if(!window.grecaptcha) reCaptchaInitialize('v2');\n    // console.log('watchHidCaptcha', watchHidCaptcha);\n  }, [watchHidCaptcha]);\n  useEffect(function () {\n    if (state.rsvp.isSIDKTPVerified) {\n      // verifyCaptcha\n      verifyCaptcha(captcha.hiddenField.name);\n    } // console.log('watchNoKtur', watchNoKtur);\n    // console.log('watchNoSID', watchNoSID);\n\n\n    if (watchNoKtur && watchNoKtur.length > KTP_SID_SEARCH_HIT_MIN_CHARS && watchNoSID && watchNoSID.length > KTP_SID_SEARCH_HIT_MIN_CHARS) {\n      console.log('trigger api call to verify use is having valid sid and ktp '); // actions.rsvp.verifyValidUser();\n\n      actions.rsvp.updateSIDKTPVerifedStatus(); // if(window.grecaptcha) grecaptcha.reset('gRecaptchaElement');\n\n      if (!window.grecaptcha) reCaptchaInitialize('v2');\n    }\n  });\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, __jsx(\"pre\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \" \", subFields && JSON.stringify(subFields, null, 2)));\n}","map":{"version":3,"sources":["/Users/jatinderbimra/work/xlbb/rsvp-next/components/RSVPForm/proxy-holder/sub-fields.js"],"names":["React","useEffect","useRef","useForm","ErrorMessage","useOvermind","phonePattern1","emailPattern","KTP_SID_SEARCH_HIT_MIN_CHARS","reCaptchaInitialize","verifyCaptcha","RSVPProxyHolderSubFields","props","state","actions","mode","validateCriteriaMode","register","errors","handleSubmit","watch","formState","console","log","data","title","subFields","numberKTUR","numberSID","name","passport","address","numberOfShares","phoneNumber","email","uploadID","uploadArticleOfAssociation","uploadProxy","captcha","userAcceptance","submitButton","infoText","successMsgTitle","successMsg","failedMsgTitle","failedMsg","redirectURL","watchNoKtur","watchNoSID","watchHidCaptcha","onSubmit","e","rsvp","isSIDKTPVerified","hiddenField","length","updateSIDKTPVerifedStatus","window","grecaptcha","JSON","stringify"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { useForm, ErrorMessage } from 'react-hook-form';\nimport { useOvermind } from '../../../overmind';\n\nimport { phonePattern1, emailPattern, KTP_SID_SEARCH_HIT_MIN_CHARS } from '../../../util/constants';\nimport { reCaptchaInitialize, verifyCaptcha } from '../../../util/index';\n\nexport default function RSVPProxyHolderSubFields(props) {\n\n    const { state, actions } = useOvermind();\n    const { register, errors, handleSubmit, watch, formState } = useForm({\n        mode: 'onChange',\n        validateCriteriaMode: \"all\"\n    });\n    console.log('data from props', props.data);\n    \n    const { title, subFields } = props.data;\n    console.log('subFields ', subFields);\n    const {\n        numberKTUR,\n        numberSID,\n        name,\n        passport,\n        address,\n        numberOfShares,\n        phoneNumber,\n        email,\n        uploadID,\n        uploadArticleOfAssociation,\n        uploadProxy,\n        captcha,\n        userAcceptance,\n        submitButton,\n        infoText,\n        successMsgTitle,\n        successMsg,\n        failedMsgTitle,\n        failedMsg,\n        redirectURL\n    } = subFields || {};\n\n    const watchNoKtur = watch(\"numberKTUR\");\n    const watchNoSID = watch(\"numberSID\");\n    const watchHidCaptcha = watch(\"hidGRecaptchaElement\");\n\n    const onSubmit = (data, e) => {\n        console.log(\"Form submitted \", data, e)\n    };\n\n    // Similar to componentDidMount and componentDidUpdate:\n    useEffect(() => {\n        // if(!window.grecaptcha) reCaptchaInitialize('v2');\n\n        // console.log('watchHidCaptcha', watchHidCaptcha);\n\n    }, [watchHidCaptcha]);\n\n    useEffect(() => {\n        if (state.rsvp.isSIDKTPVerified) {\n            // verifyCaptcha\n            verifyCaptcha(captcha.hiddenField.name);\n        }\n        // console.log('watchNoKtur', watchNoKtur);\n        // console.log('watchNoSID', watchNoSID);\n\n        if ((watchNoKtur && watchNoKtur.length > KTP_SID_SEARCH_HIT_MIN_CHARS) && (watchNoSID && watchNoSID.length > KTP_SID_SEARCH_HIT_MIN_CHARS)) {\n            console.log('trigger api call to verify use is having valid sid and ktp ');\n\n            // actions.rsvp.verifyValidUser();\n\n            actions.rsvp.updateSIDKTPVerifedStatus();\n\n            // if(window.grecaptcha) grecaptcha.reset('gRecaptchaElement');\n            if (!window.grecaptcha) reCaptchaInitialize('v2');\n        }\n    });\n\n    return (\n        <div>\n\n            <pre> {subFields && JSON.stringify(subFields, null, 2)}</pre>\n\n\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}